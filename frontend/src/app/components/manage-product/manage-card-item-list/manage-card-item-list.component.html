<style>
  .btn {
    width: 60%;
  }

  .custom-fade {
    opacity: 0.8;
    box-shadow: 0px 0px 0px #888888;
    transition: 0.1s;
  }

  .custom-fade:hover {
    opacity: 1;
    box-shadow: 0px 6px 10px #888888;
    transition: 0.1s;
  }
</style>

<div class="row row-cols-1 row-cols-md-2 row-cols-xl-4 justify-content-center">
  <div *ngFor="let item of products; index as i">
    <div class="col">
      <div class="card shadow-sm mb-4">
        <img [src]="item.img" class="card-img-top" alt="..." />
        <div class="card-body">
          <h5 class="card-title font-weight-bold">
            {{ item.name }}
          </h5>
          <hr />
          <h6 class="card-text">
            <i class="bi bi-archive-fill" style="margin-right: 10px"></i>จำนวนคงเหลือ
            <b><u>{{ item.quantity }}</u></b>
            ชิ้น
          </h6>
          <a class="card-link" data-toggle="modal" data-target="#modalProductShow"
          (click)="showProduct(i)">
            <i class="bi bi-info-circle-fill" style="margin-right: 10px" ></i>ดูรายละเอียดสินค้า</a>
          <hr />
          <div class="row justify-content-center pb-2">
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#modalProductSelect"
            (click)="selectProduct(i)">
              <i class="bi bi-pencil-square" style="margin-right: 10px">‎</i>แก้ไข
            </button>
            <app-manage-card-item-edit [productSelect]='productSelect'></app-manage-card-item-edit>
          </div>
          <div class="row justify-content-center">
            <button type="button" class="btn btn-dark" data-toggle="modal" data-target="#modalProductDelete"
              (click)="deletSelectProduct(i)">
              <i class="bi bi-trash" style="margin-right: 10px">‎</i>ลบ
            </button>
            <app-manage-card-item-delete [idProductSelect]="idProductSelect"></app-manage-card-item-delete>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="modalProductShow" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel"></h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="justify-content-center row-cols-lg-2 row-cols-1 row mb-2">
          <div class="col mb-3">
            <img [src]="productShow.img" class="img-fluid" style="size: 75%;">
          </div>
          <div class="col">
            <div class="col bg-white border-bottom" style="min-height: 80px">
              <h2 class="text-break font-weight-bolder">{{productShow.name}}</h2>
              <hr>
              <h3 class="text-break font-weight-bolder">THB {{productShow.price}}</h3>
              <hr>
              <p class="text-break font-weight-light">{{productShow.detail}}.</p>
            </div>
            <div class="col">
              <br>
              <p class="text-break font-weight-bolder">มีสินค้าทั้งหมด: {{productShow.quantity}} ชิ้น</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>